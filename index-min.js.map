{"version":3,"names":["FontCompare","constructor","contextSettings","alpha","desynchronized","willReadFrequently","this","font1input","document","querySelector","font2input","backgroundColor","fillColor","fontSize","canvases","Map","createElement","contexts","get","getContext","event","Event","canvasSize","timeout","swapButton","forEach","c","width","height","textAlign","textRendering","resetContext","window","addEventListener","displayResults","bind","resultsRowClick","init","onFontChange","swapFonts","font1","value","font2","rankDifferences","then","restorePreview","click","dataset","currentIndex","displayPreview","clearTimeout","setTimeout","originalFont1","originalFont2","length","results","i","images","reverse","context","fillStyle","fillRect","renderString","str","font","reset","posX","Math","floor","posY","fillText","bitmap","createImageBitmap","getDiff","drawImage","globalCompositeOperation","data","getImageData","Uint8ClampedArray","getUnion","async","char","Promise","all","imageData","difference","diffImage","getImageInColor","image","color","chars","split","map","calculateDifference","sort","a","b","dispatchEvent","r","resultsEl","innerHTML","tbody","row","rank","appendChild","result","previewContext","e","target","closest"],"sources":["index.js"],"mappings":"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"}